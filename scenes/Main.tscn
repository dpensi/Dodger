[gd_scene load_steps=19 format=2]

[ext_resource path="res://scenes/Main.gd" type="Script" id=1]
[ext_resource path="res://characters/Character.tscn" type="PackedScene" id=2]
[ext_resource path="res://cameras/LookAheadCamera.tscn" type="PackedScene" id=3]
[ext_resource path="res://controllers/ChaseAi.tscn" type="PackedScene" id=4]
[ext_resource path="res://controllers/BasicAi.tscn" type="PackedScene" id=5]
[ext_resource path="res://art/enemyFlyingAlt_2.png" type="Texture" id=6]
[ext_resource path="res://scenes/Wall.tscn" type="PackedScene" id=7]
[ext_resource path="res://art/enemySwimming_1.png" type="Texture" id=8]
[ext_resource path="res://art/enemySwimming_2.png" type="Texture" id=9]
[ext_resource path="res://art/enemyFlyingAlt_1.png" type="Texture" id=10]
[ext_resource path="res://art/enemyWalking_1.png" type="Texture" id=11]
[ext_resource path="res://art/enemyWalking_2.png" type="Texture" id=12]

[sub_resource type="GDScript" id=1]
script/source = "extends RigidBody2D

export var min_speed = 150  # Minimum speed range.
export var max_speed = 250  # Maximum speed range.


func _ready():
	var mob_types = $AnimatedSprite.frames.get_animation_names()
	$AnimatedSprite.animation = mob_types[randi() % mob_types.size()]
	$AnimatedSprite.play()


#func _process(delta):
#	pass

func _on_VisibilityNotifier2D_screen_exited():
	queue_free()
"

[sub_resource type="SpriteFrames" id=2]
animations = [ {
"frames": [ ExtResource( 11 ), ExtResource( 12 ) ],
"loop": true,
"name": "walk",
"speed": 3.0
}, {
"frames": [ ExtResource( 8 ), ExtResource( 9 ) ],
"loop": true,
"name": "swim",
"speed": 3.0
}, {
"frames": [ ExtResource( 10 ), ExtResource( 6 ) ],
"loop": false,
"name": "fly",
"speed": 3.0
} ]

[sub_resource type="CapsuleShape2D" id=3]
radius = 30.7444
height = 45.7859

[sub_resource type="PackedScene" id=4]
_bundled = {
"conn_count": 0,
"conns": PoolIntArray(  ),
"editable_instances": [  ],
"names": PoolStringArray( "Mob", "RigidBody2D", "mobs", "position", "collision_mask", "gravity_scale", "script", "AnimatedSprite", "AnimatedSprite", "scale", "frames", "animation", "frame", "playing", "CollisionShape2D", "CollisionShape2D", "position", "shape", "VisibilityNotifier2D", "VisibilityNotifier2D", "position" ),
"node_count": 4,
"node_paths": [ NodePath("."), NodePath("."), NodePath(".") ],
"nodes": PoolIntArray( -1, -1, 1, 0, -1, 4, 3, 0, 4, 1, 5, 2, 6, 3, 1, 2, 1073741824, 0, 8, 7, -1, 5, 9, 4, 10, 5, 11, 6, 12, 7, 13, 8, 0, 1073741825, 0, 15, 14, -1, 2, 16, 9, 17, 10, 0, 1073741826, 0, 19, 18, -1, 1, 20, 11, 0 ),
"variants": [ Vector2( 260.573, 419.408 ), 0, 0.0, SubResource( 1 ), Vector2( 0.75, 0.75 ), SubResource( 2 ), "fly", 1, true, Vector2( -3.0874, 0.686134 ), SubResource( 3 ), Vector2( 0.37735, 0.37735 ) ],
"version": 2
}

[sub_resource type="Curve2D" id=5]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 307.519, 51.5175, 0, 0, 0, 0, 164.814, 527.2, 0, 0, 0, 0, 535.847, 536.714, 0, 0, 0, 0, 559.631, 313.143 )
}

[sub_resource type="Curve2D" id=6]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -219.988, 1583.91, 0, 0, 0, 0, -759.988, 1377.91 )
}

[node name="Main" type="Node"]
script = ExtResource( 1 )
Mob = SubResource( 4 )
Player = ExtResource( 2 )

[node name="Wall" parent="." instance=ExtResource( 7 )]
position = Vector2( -6.97198, 112.898 )

[node name="Chaser" parent="." instance=ExtResource( 2 )]
position = Vector2( -556.549, 1721.97 )
ControllerRef = ExtResource( 4 )
CameraRef = null
Patrol = NodePath("../ChaserPath")

[node name="Npc" parent="." instance=ExtResource( 2 )]
position = Vector2( 113.918, -118.576 )
ControllerRef = ExtResource( 5 )
CameraRef = null
Patrol = NodePath("../NpcPath")

[node name="Player" parent="." instance=ExtResource( 2 )]
CameraRef = ExtResource( 3 )

[node name="Walls" type="Node" parent="."]

[node name="Wall2" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -958.415, 68.4102 )
rotation = 1.5708
scale = Vector2( 2.885, 1 )

[node name="Wall3" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( 563.302, 699.456 )
scale = Vector2( 1.766, 1 )

[node name="Wall4" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( 912.059, 91.5961 )
rotation = 1.5708
scale = Vector2( 2.978, 1 )

[node name="Wall7" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -107.137, 985.076 )
rotation = 1.5708
scale = Vector2( 1.323, 1 )

[node name="Wall8" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( 216.132, 958.137 )
rotation = 1.5708
scale = Vector2( 1.323, 1 )

[node name="Wall5" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -18.6877, -525.927 )
scale = Vector2( 4.322, 1 )

[node name="Wall6" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -536.606, 680.768 )
scale = Vector2( 2.127, 1 )

[node name="Wall9" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -907.561, 1886.45 )
rotation = 1.5708
scale = Vector2( 2.885, 1 )

[node name="Wall14" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -105.529, 1470.89 )
rotation = 1.5708
scale = Vector2( 0.868, 1 )

[node name="Wall10" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( 590.184, 1270.9 )
scale = Vector2( 1.766, 1 )

[node name="Wall11" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( 962.913, 1909.63 )
rotation = 1.5708
scale = Vector2( 2.978, 1 )

[node name="Wall12" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -9.78613, 2520.72 )
scale = Vector2( 4.322, 1 )

[node name="Wall13" parent="Walls" instance=ExtResource( 7 )]
position = Vector2( -533.697, 1258.21 )
scale = Vector2( 2.127, 1 )

[node name="NpcPath" type="Path2D" parent="."]
curve = SubResource( 5 )

[node name="NpcPatrol" type="PathFollow2D" parent="NpcPath"]
position = Vector2( 307.519, 51.5175 )
rotation = 1.86226

[node name="ChaserPath" type="Path2D" parent="."]
curve = SubResource( 6 )

[node name="ChaserPatrol" type="PathFollow2D" parent="ChaserPath"]
position = Vector2( -219.989, 1583.91 )
rotation = -2.77712
offset = 0.00286865
